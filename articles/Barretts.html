<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="EndoMineR">
<title>Barrett's Oesophagus • EndoMineR</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Barrett's Oesophagus">
<meta property="og:description" content="EndoMineR">
<meta property="og:image" content="https://docs.ropensci.org/EndoMineR/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">EndoMineR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.0.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">Home</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorials">Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorials">
    <a class="dropdown-item" href="../articles/EndoMineRPrinciples.html">EndoMineR Principles</a>
    <a class="dropdown-item" href="../articles/EndoMineR.html">Package overview</a>
    <a class="dropdown-item" href="../articles/Analysis.html">Analysis</a>
    <a class="dropdown-item" href="../articles/Barretts.html">Barrett's</a>
    <a class="dropdown-item" href="../articles/Polyps.html">Lower GI Polyps</a>
    <a class="dropdown-item" href="../articles/Data.html">Data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="http://gastrodatascience.com">
    <span class="fa fa fa fa-bullseye"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/GastroDS">
    <span class="fa fa fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/EndoMineR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://www.gastroenterologybook.com/">
    <span class="far fa far fa-book"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.nhs.uk/profiles/consultant/6029157">
    <span class="fas fa fas fa-stethoscope"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Barrett's Oesophagus</h1>
                        <h4 data-toc-skip class="author">Sebastian Zeki</h4>
            
            <h4 data-toc-skip class="date">March 04, 2024</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/EndoMineR/blob/HEAD/vignettes/Barretts.Rmd" class="external-link"><code>vignettes/Barretts.Rmd</code></a></small>
      <div class="d-none name"><code>Barretts.Rmd</code></div>
    </div>

    
    
<p><br></p>
<div class="section level2">
<h2 id="specific-diseases---barretts-oesophagus">
<strong>Specific diseases - Barrett’s oesophagus</strong><a class="anchor" aria-label="anchor" href="#specific-diseases---barretts-oesophagus"></a>
</h2>
<p><br></p>
<p>One particular disease that lends itself well to analytics, particularly as it is part of a surveillance programme, is the premalignant oesophageal condition Barrett’s oesophagus. This is characterised by the growth of cells (called columnar lined epithelium) in the oesophagus. These cells usually occupy the lower part of the oesophagus as a continuous sheet from the top of the stomach to varying lengths up the oesophagus.</p>
<p>This condition requires endoscopic surveillance and the timing of this depends on the prior endoscopic features (namely the length of the Barretts segment as measured by the Prague score- explained below) and the pathological stage at that endoscopy (which for non-dysplastic samples, since the revised 2013 UK guidelines, means the presence or absence of intestinal metaplasia). This can be seen in the image below (from Fitzgerald RC, et al. Gut 2013;0:1–36. <a href="doi:10.1136/gutjnl-2013-305372" class="uri">doi:10.1136/gutjnl-2013-305372</a>)</p>
<p><br></p>
<p><img src="img/BarrettsGuide.png" style="display: block; margin: auto;"></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="pre-processing-barretts-samples">
<strong>1. Pre-processing Barrett’s samples</strong><a class="anchor" aria-label="anchor" href="#pre-processing-barretts-samples"></a>
</h2>
<p><br></p>
<p>Such a dataset needs some processing prior to the analysis so for this we can turn to a specific set of function for Barrett’s oesophagus itself.</p>
<p><br></p>
<div class="section level3">
<h3 id="a-prague-score">
<strong>a) Prague score</strong><a class="anchor" aria-label="anchor" href="#a-prague-score"></a>
</h3>
<p><br></p>
<p>Firstly we need to extract the length of the Barrett’s segment. This is known as the <a href="https://services.nhslothian.scot/endoscopyunit/InformationForClinicalStaff/Documents/PRAGUE%20CRITERIA.pdf" class="external-link">Prague score</a> and is made up of the length from the top of the gastric folds (just below the gastro-oesophageal junction) to the top of the circumferential extent of the Barrett’s segment (C). In addition the maximal extent is from the top of the gastric folds to the top of the tongues of Barrett’s segment (M). This gives an overall score such as C1M2.</p>
<p><br></p>
<p>After filtering for endoscopic indication (eg “Surveillance-Barrett’s”- this is stored in the ‘Indication’ column in our data set) the aim of the following function is to extract a C and M stage (Prague score) for Barrett’s samples. This is done using a regular expression where C and M stages are explicitly mentioned in the free text. Specifically it extracts the Prague score. This is usually mentoned in the ‘Findings’ column in our dataset but obviously the user can define which column should be searched.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/Barretts_PragueScore.html">Barretts_PragueScore</a></span><span class="op">(</span><span class="va">Myendo</span>,<span class="st">'Findings'</span>,<span class="st">'OGDReportWhole'</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="7%">
<col width="16%">
<col width="26%">
<col width="11%">
<col width="26%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">ProcedurePerformed</th>
<th align="center">Findings</th>
<th align="center">CStage</th>
<th align="center">mytext</th>
<th align="center">MStage</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>23</strong></td>
<td align="center">Gastroscopy (OGD)</td>
<td align="center">STOMACH: diffuse gastritis with angiodysplasia and punctate bleeding site on greater curve mid body - no obvious ulcer- antrum scar ?,OESOPHAGUS: Barrett’s osophagus C3M5 34-39cm ,He also has erosive gastritis in the fundus ,STOMACH: non-erosive gastritis from mid-body to antrum, CLO test: negative ,STOMACH: numerous fundic glands looking polyps at body and fundus with size ranging from 2 mm to 10 mm ,Otherwise entirely normal study ,Scope easily passed through A lesion underwent EMR</td>
<td align="center">3</td>
<td align="center">STOMACH: diffuse gastritis with angiodysplasia and punctate bleeding site on greater curve mid body - no obvious ulcer- antrum scar ?,OESOPHAGUS: Barrett’s osophagus C3M5 34-39cm, ,He also has erosive gastritis in the fundus, ,STOMACH: non-erosive gastritis from mid-body to antrum, CLO test: negative, ,STOMACH: numerous fundic glands looking polyps at body and fundus with size ranging from 2 mm to 10 mm, ,Otherwise entirely normal study, ,Scope easily passed through, , A lesion underwent EMR</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center"><strong>24</strong></td>
<td align="center">Gastroscopy (OGD)</td>
<td align="center">Top of gastrisc folds:43cm ,No inlet patch ,Biopsies taken from distal, mid and proximal third ,STOMACH: Normal ,Hiatus Hernia- Small ,Oesophagus normal with no hiatus hernia or oesophagitis ,D2 biopsies taken in view of weight loss ,STOMACH: gastritis in antrum - CLO test: negative ,Nodules between 38 anc 34cm, Paris Type IIa annd covered 75% of the circumference of the oesophagus</td>
<td align="center">34</td>
<td align="center">Top of gastrisc folds:43cm, ,No inlet patch, ,Biopsies taken from distal, mid and proximal third, ,STOMACH: Normal, ,Hiatus Hernia- Small, ,Oesophagus normal with no hiatus hernia or oesophagitis, ,D2 biopsies taken in view of weight loss, ,STOMACH: gastritis in antrum - CLO test: negative, ,Nodules between 38 anc 34cm, Paris Type IIa annd covered 75% of the circumference of the oesophagus, ,</td>
<td align="center">34</td>
</tr>
<tr class="odd">
<td align="center"><strong>25</strong></td>
<td align="center">Gastroscopy (OGD)</td>
<td align="center">No varices anywhere in the upper GI tract/ no PHG ,OESOPHAGUS: Barrett’s oesophagus C0 M1 ,No blood or sign of recent bleeding</td>
<td align="center">0</td>
<td align="center">No varices anywhere in the upper GI tract/ no PHG, ,OESOPHAGUS: Barrett’s oesophagus C0 M1, ,No blood or sign of recent bleeding, ,</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center"><strong>26</strong></td>
<td align="center">Gastroscopy (OGD)</td>
<td align="center">There is a duodenal diverticulum, just after the D1/D2 flexure but there is no inflammation, ulceration or erosions ,Biopsies from D2 and stomach ,Biopsies from D2 and stomach ,Several erosions/small ulcers in inflammed antrum ,Hiatus hernia ,The antrum looks spared ,Stomach - mild gastritis CLO - negative ,D1 inspected carefully and no othe abnormalities seen</td>
<td align="center">Insufficient</td>
<td align="center">There is a duodenal diverticulum, just after the D1/D2 flexure but there is no inflammation, ulceration or erosions, ,Biopsies from D2 and stomach, ,Biopsies from D2 and stomach, ,Several erosions/small ulcers in inflammed antrum, ,Hiatus hernia, ,The antrum looks spared, ,Stomach - mild gastritis CLO - negative, ,D1 inspected carefully and no othe abnormalities seen, ,</td>
<td align="center">Insufficient</td>
</tr>
<tr class="odd">
<td align="center"><strong>27</strong></td>
<td align="center">Gastroscopy (OGD)</td>
<td align="center">GOJ at 40cm with small sliding hiatus hernia ,Forrest Ulcer classification: IIc ,Gastritis and duodenitis A lesion underwent EMR</td>
<td align="center">Insufficient</td>
<td align="center">GOJ at 40cm with small sliding hiatus hernia, ,Forrest Ulcer classification: IIc, ,Gastritis and duodenitis, , A lesion underwent EMR</td>
<td align="center">Insufficient</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="b-worst-pathological-stage">
<strong>b) Worst pathological stage</strong><a class="anchor" aria-label="anchor" href="#b-worst-pathological-stage"></a>
</h3>
<p><br></p>
<p>We also need to extract the worst pathological stage for a sample, and if non-dysplastic, determine whether the sample has intestinal metaplasia or not. This is done using ‘degredation’ so that it will look for the worst overall grade in the histology specimen and if not found it will look for the next worst and so on.</p>
<p>It looks per report not per biopsy (it is more common for histopathology reports to contain the worst overall grade rather than individual biopsy grades).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#The histology column is the one we are interested in:</span></span>
<span><span class="va">Mypath</span><span class="op">$</span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Barretts_PathStage.html">Barretts_PathStage</a></span><span class="op">(</span><span class="va">Mypath</span>, <span class="st">"Histology"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="22%">
<col width="22%">
<col width="22%">
<col width="22%">
<col width="5%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">ClinicalDetails</th>
<th align="center">Macroscopicdescription</th>
<th align="center">Histology</th>
<th align="center">Diagnosis</th>
<th align="center">b</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>2</strong></td>
<td align="center">Quadrantic biopsies were taken at ,OGD - only 3cm sliding hiatus 7 specimen Nature of specimen: Nature of specimen as stated on pot = ‘RECTAL POLYPS X3’,Nature of specimen as stated on pot = ‘fundus polyps x4’,Nature of specimen as stated on request form = ‘DUODENAL BX’,Nature of specimen as stated on pot = ‘Papilloma at 36 cm oesophagus’,a) Nature of specimen as stated on request form = ‘D2 bx x 2’ ,Nature of specimen as stated on pot = ‘Oesophagus 26 cm’</td>
<td align="center">4 specimens collected the largest measuring 4 x 4 x 4 mm and the smallest 5 x 3 x 1 mm</td>
<td align="center">modified giemsa stain ,These are biopsies of gastric mucosa ,There is no evidence of coeliac disease ,The nuclei are hyperchromatic, ,There is no granulomatous inflammation ,The appearances are in keeping with a reactive/chemical gastritis,features including basal layer hyperplasia and reactive nucelar changes with underlying ,These are two biopsies of squamous epithelium within normal limits,fibromuscularisation of the lamina propria and mild chronic inflammation ,These biopsies of columnar mucosa show focal acute inflammation, moderate chronic inflammation</td>
<td align="center">Rectum, polyp biopsy: - Tubular adenoma with mild dysplasia,- Raised intra-epithelial lymphocytes ,Duodenum, biopsies - within normal histological limits ,B GI biopsy - DISTAL OESOPHAGUS X2, MID OESO X3, PROX OESO X2 ,Oesophagus, biopsies : - Minimal chronic inflammation,Sigmoid colon, polypectomy: - Tubular adenoma with moderate dysplasia,Oesophagus polyps biopsies:- 2 x papillomas ,Duodenum biopsies:- normal</td>
<td align="center">No_IM</td>
</tr>
<tr class="even">
<td align="center"><strong>3</strong></td>
<td align="center">Transverse colonic polyp resected ,Duodenal biopsies to exclude coeliac/parasites ,OGD + colon normal 2 specimen Nature of specimen: Nature of specimen as stated on pot = ‘AntralOesBx’,Nature of specimen as stated on request form = ‘Oesophagus x4 at 37 ,Nature of specimen as stated on request form = ’OESOPHAGEAL <span class="citation">@38CMX4</span>’,Nature of specimen as stated on request form = ‘Gastroduodenal anastomosis bx x4’ ,Nature of specimen as stated on request form = ‘Oesophagus 32 cm’</td>
<td align="center">9 specimens collected the largest measuring 2 x 5 x 2 mm and the smallest 1 x 1 x 4 mm</td>
<td align="center">The sigmoid polyp is a pedunculated tubular adenoma with moderate dysplasia ,inflammation, gastric metaplasia, dysplasia or neoplasia is seen,patchy fibrosis and myxoid areas and contains numerous eosinophils, as well as scattered ,These biopsies of non-specialised gastric-type mucosa showed minimal chronic, focally active ,Lymphovascular invasion: Not identified ,into submucosa for less than 1 mm</td>
<td align="center">- Background Barrett ‘s oesophagus,Sigmoid colon, biopsy - Adenocarcinoma ,- Gastric metaplasia,Oesophagus 36cm ’papilloma’ biopsy:- normal squamous mucosa ,- Chronic active inflammation,Oesophagus, biopsy - Barrett ’s oesophagus with moderate chronic inflammation ,- Minimal chronic inflammation</td>
<td align="center">No_IM</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="cfollow-up-groups">
<strong>c)Follow-up groups</strong><a class="anchor" aria-label="anchor" href="#cfollow-up-groups"></a>
</h3>
<p><br></p>
<p>Having done these pre-processing steps, the follow-up group to which the last endoscopy belongs (rather than the patient as their biopsy results or Barrett’s segment length and therefore their follow-up timing, may fluctuate over time) can be determined.</p>
<p>The follow-up timing, as explained in the the original guideline flowchart above, depends on the length of the Barrett’s segment and the presence of intestinal metaplasia (a type of columnar lined epithelium). If abnormal cells (dysplasia) are present the there is a different follow-up regime which we won’t concern ourselves with at the moment.</p>
<p>The timing of follow-up is done with the function <strong>Barretts_FUType.</strong> This relies on the previous functions called <strong>Barretts_PathStage</strong> and <strong>Barretts_PragueScore</strong> having been run. The Barretts_FUType function will tell you which follow up Rule the patient should be on so that the timing of the next endoscopy can be determined. As these functions usually go together a wrapper function called <strong>BarrettAll</strong> is also provided.</p>
<p><br></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Create the merged dataset</span></span>
<span><span class="va">v</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/Endomerge2.html">Endomerge2</a></span><span class="op">(</span><span class="va">Myendo</span>,<span class="st">"Dateofprocedure"</span>,<span class="st">"HospitalNumber"</span>,<span class="va">Mypath</span>,<span class="st">"Dateofprocedure"</span>,<span class="st">"HospitalNumber"</span><span class="op">)</span></span>
<span><span class="co">#Find the worst pathological grade for that endoscopy</span></span>
<span><span class="va">v</span><span class="op">$</span><span class="va">IMorNoIM</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Barretts_PathStage.html">Barretts_PathStage</a></span><span class="op">(</span><span class="va">v</span>, <span class="st">"Histology"</span><span class="op">)</span></span>
<span><span class="co">#Find the Prague score for that endoscopy</span></span>
<span><span class="va">b1</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/Barretts_PragueScore.html">Barretts_PragueScore</a></span><span class="op">(</span><span class="va">v</span>, <span class="st">"Findings"</span>, <span class="st">"OGDReportWhole"</span><span class="op">)</span></span>
<span><span class="co">#Get the follow-up type for that endoscopy</span></span>
<span><span class="va">b1</span><span class="op">$</span><span class="va">FU_Type</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/Barretts_FUType.html">Barretts_FUType</a></span><span class="op">(</span><span class="va">b1</span>,<span class="st">"CStage"</span>,<span class="st">"MStage"</span>,<span class="st">"IMorNoIM"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="9%">
<col width="15%">
<col width="15%">
<col width="34%">
<col width="15%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="center"> </th>
<th align="center">IMorNoIM</th>
<th align="center">CStage</th>
<th align="center">mytext</th>
<th align="center">MStage</th>
<th align="center">FU_Type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><strong>23</strong></td>
<td align="center">Insufficient</td>
<td align="center">Insufficient</td>
<td align="center">Inlet patch - Yes or No:No, ,Biospy taken, easily bleeding, ,GOJ scar tissue and nodular areafrom 39-42cm, biopsied, ,OESOPHAGUS: Normal, no evidence of residual dysplasia under FICe, ,The patient withdrew his consent for the procedure, so no further biopsies were taken, ,</td>
<td align="center">Insufficient</td>
<td align="center">NoRules</td>
</tr>
<tr class="even">
<td align="center"><strong>24</strong></td>
<td align="center">No_IM</td>
<td align="center">Insufficient</td>
<td align="center">STOMACH: mild antral non-erosive gastritis, ,DUODENUM: Not entered, ,Clean based 0, ,Alkaline gastritis and amount of bile residue, ,STOMACH: significant amount of solid and liquid residue present, ,GOJ scar tissue and nodular areafrom 39-42cm, biopsied, ,Gastritis, haemorrhagic in fundus and oedema in pylorus, ,</td>
<td align="center">Insufficient</td>
<td align="center">NoRules</td>
</tr>
<tr class="odd">
<td align="center"><strong>25</strong></td>
<td align="center">IM</td>
<td align="center">Insufficient</td>
<td align="center">STOMACH: Portal Hypertensive Gastropathy, ,10mls 1% Lignocaine to skin, ,Stomach: mild/moderate erosive gastritis, ,Oesophagus - Small hiatus hernia, ,STOMACH: moderate antral gastritis - CLO test negative, ,Proximal to the pylorus was an anastomosis opening into a loop with 2 openings ?,There were mutiple small nodules in the distal oesophagus of unknown significance, ,</td>
<td align="center">Insufficient</td>
<td align="center">NoRules</td>
</tr>
<tr class="even">
<td align="center"><strong>26</strong></td>
<td align="center">IM</td>
<td align="center">Insufficient</td>
<td align="center">2 biopsies from D2, ,Small hiatus hernia from 38 to 41cm, ,STOMACH: Moderate haemorrhagic gastritis - CLO test negative, ,metachronous lesions, ,GOJ at 40cm with stitches from previous repair visible at 3o’clock, ,This couldn’t be resolved with the coag graspers so 2 clips were deploted over the vessel and 1:10,000 adrenaline x10ml was injected with haemostasis achieved, ,Narrowband imaging of the oesophagus: No inlet patch, ,D: oedematous mucosa in D1 but no ulcers seen, ,Biopsies taken from the GOJ x4 and from 38cm x4, ,</td>
<td align="center">Insufficient</td>
<td align="center">NoRules</td>
</tr>
<tr class="odd">
<td align="center"><strong>27</strong></td>
<td align="center">LGD</td>
<td align="center">0</td>
<td align="center">No cause for her pain was found, ,5 cm in size, ,D: Oedematous mucosa and erosions in D1, ,STOMACH: Streaky antral gastritis with linear erosions, ,C0M1 Barretts- biopsied, ,DUODENUM: duodenal ulcer in D1 - 2 cm diameter on the posterior wall, with clean base and surrounding oedema, causing some degree of stricture; scope easily passed into D2, without resistance, ,GOJ on contraction gives a false impression of Schatzki ring, ,G: mild PHG, ,</td>
<td align="center">1</td>
<td align="center">Therapy</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="quality-assessment-in-barretts-surveillance">
<strong>2.Quality assessment in Barrett’s surveillance</strong><a class="anchor" aria-label="anchor" href="#quality-assessment-in-barretts-surveillance"></a>
</h2>
<p><br></p>
<p>Many of the aspects of generic quality monitoring apply to Barrett’s as well. For example, you may want to make sure that the endoscopy reports adhere to guidance about what should be in an endoscopy report. This can be assessed using the generic function <strong>ListLookUp</strong></p>
<div class="section level3">
<h3 id="quality-of-perfomance-of-barretts-surveillance-endoscopies-as-just-by-tissue-sampling">
<strong>Quality of perfomance of Barrett’s surveillance endoscopies as just by tissue sampling</strong><a class="anchor" aria-label="anchor" href="#quality-of-perfomance-of-barretts-surveillance-endoscopies-as-just-by-tissue-sampling"></a>
</h3>
<p>Some things are specific to Barrett’s oesophagus however. One of the essential requirements to demonstrate adequate sampling of Barrett’s oesophagus during endoscopy is that the endoscopist should adhere to the ‘Seattle protocol’ for biopsies which is to take 4 equally spaced biopsies at 2cm intervals in the circumferential part of the oesophagus. Because the macroscopic description of the pathological specimen tells us how many samples are taken overall (and rarely how many at each level but this is usually not the case for a variety of reasons) we can determine the shortfall in the number of biopsies taken, per endoscopist. Again pre-processing the Barrett’s samples is pre-requisite. The Number of biopsies and their size should also be extracted using the histopathology functions.</p>
<table style="width:57%;" class="table">
<colgroup>
<col width="41%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="center">Endoscopist</th>
<th align="center">MeanDiff</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">Dr Avitia-Ramirez, Alondra</td>
<td align="center">2</td>
</tr>
<tr class="even">
<td align="center">Dr Greimann, Phoua</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">Dr Ives, Rashiah</td>
<td align="center">-0.67</td>
</tr>
<tr class="even">
<td align="center">Dr Kekich, Annabelle</td>
<td align="center">-4</td>
</tr>
<tr class="odd">
<td align="center">Dr Kola-Kehinde, Karisma</td>
<td align="center">-5579167</td>
</tr>
<tr class="even">
<td align="center">Dr Martinez, Maegen</td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="center">Dr Moreno, Lauren</td>
<td align="center">-1</td>
</tr>
<tr class="even">
<td align="center">Dr Sullivan, Shelby</td>
<td align="center">1.5</td>
</tr>
<tr class="odd">
<td align="center">Dr al-Arif, Ummu Kulthoom</td>
<td align="center">-5696298</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>This function will again return a dataframe with the number of biopsies taken that is outside of the number that should have been taken for a certain Prague score.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
